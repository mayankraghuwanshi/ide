(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{168:function(e,t,a){e.exports=a(303)},173:function(e,t,a){},221:function(e,t){},303:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(8),c=a.n(r),l=(a(173),a(31)),i=a(147),u=a(3),d={roomId:null,socket:null,userName:""},s={java:{language:"java",code:'public class Solution{\n    public static void main(String args[]){\n        System.out.println("Hello,");\n    }\n}',stdin:"",stdout:"",stderr:""},python:{language:"python",code:'print("Hello, World!")',stdin:"",stdout:"",stderr:""},javascript:{language:"javascript",code:'console.log("Hello, World!");',stdin:"",stdout:"",stderr:""}},m={theme:"monokai",fontSize:18,showGutter:!0,placeholder:"Happy Coding",language:s.java.language,code:s.java.code,stdin:s.java.stdin,stdout:s.java.stdout,stderr:s.java.stderr,isExecuting:!1,error:""},p=Object(l.c)({room:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_ROOM":return Object(u.a)(Object(u.a)({},e),{},{roomId:n});case"CHANGE_BROADCAST_MODE":return Object(u.a)(Object(u.a)({},e),{},{broadcastMode:!e.broadcastMode});case"SET_ROOM_WITH_BROADCAST":return{roomId:n.roomId,broadcastMode:n.broadcastMode};case"INITIALIZE_SOCKET":return Object(u.a)(Object(u.a)({},e),{},{socket:n});case"REMOVE_SOCKET":return Object(u.a)(Object(u.a)({},e),{},{socket:null});case"SET_USER_NAME":return Object(u.a)(Object(u.a)({},e),{},{userName:n});case"INITIALIZE_ROOM":return Object(u.a)(Object(u.a)({},e),{},{socket:n.socket,roomId:n.roomId});default:return e}},editor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"CHANGE_LANGUAGE":return Object(u.a)(Object(u.a)({},e),{},{language:s[n].language,code:s[n].code,stdin:s[n].stdin,stdout:s[n].stdout,stderr:s[n].stderr});case"CHANGE_THEME":return Object(u.a)(Object(u.a)({},e),{},{theme:n});case"CHANGE_FONT":return Object(u.a)(Object(u.a)({},e),{},{fontSize:n});case"CHANGE_SHOW_GUTTER":return Object(u.a)(Object(u.a)({},e),{},{showGutter:!e.showGutter});case"CHANGE_STDIN":return Object(u.a)(Object(u.a)({},e),{},{stdin:n});case"CHANGE_CODE":return Object(u.a)(Object(u.a)({},e),{},{code:n});case"EXECUTION_STATR":return Object(u.a)(Object(u.a)({},e),{},{isExecuting:!0});case"EXECUTION_STATR":return Object(u.a)(Object(u.a)({},e),{},{isExecuting:!1});case"INITIALIZE_INITIAL_CODE":return Object(u.a)(Object(u.a)({},e),{},{language:n.language,code:n.code});case"ERROR":return Object(u.a)(Object(u.a)({},e),{},{error:n});case"CHANGE_OPS_TO_DEFAULT":return m;default:return e}}}),E=[i.a],g=Object(l.e)(p,{},Object(l.d)(l.a.apply(void 0,E),window.devToolsExtension&&window.devToolsExtension())),h=a(20),O=a(101),b=a.n(O),f=a(149),v=a(165),y=a(150),A=a.n(y),j=(a(184),a(185),a(186),a(187),a(188),a(189),a(190),a(191),a(65)),I=a.n(j),N=a(102),_=a.n(N),C=Object(h.b)((function(e){return{editor:e.editor,room:e.room}}),{changeEditorCodeAction:function(e){return function(t){return t({type:"CHANGE_CODE",payload:e})}}})((function(e){var t=e.editor,a=e.room,r=a.socket,c=e.changeEditorCodeAction;return Object(n.useEffect)((function(){r.emit("PUSH_CODE_ON_CHANGE",{roomId:a.roomId,userName:a.userName,code:t.code}),r.emit("PUSH_LANGUAGE_ON_CHANGE",{roomId:a.roomId,userName:a.userName,language:t.language})}),[t.code,t.language]),o.a.createElement("div",{style:{margin:"2px",width:"70%"}},o.a.createElement(A.a,{name:"defaultCode",width:"100%",height:"80vh",mode:t.language,theme:t.theme,fontSize:t.fontSize,showGuttet:t.showGutter,placeholder:t.placeholder,value:t.code,onChange:c,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!1,showLineNumbers:!0,tabSize:2},editorProps:{$blockScrolling:!0}}))})),T=a(306).a.TextArea,S={display:"flex",flexDirection:"column",width:"30%"},x=Object(h.b)((function(e){return{editor:e.editor}}),{changeStdinAction:function(e){return function(t){return t({type:"CHANGE_STDIN",payload:e})}}})((function(e){var t=e.editor,a=e.changeStdinAction,n=t.stderr.length>0?t.stderr:t.stdout,r={color:t.stderr.length>0?"red":"black"};return o.a.createElement("div",{style:S},o.a.createElement("label",{for:"stdin"},o.a.createElement("b",null,"Input")),o.a.createElement(T,{id:"stdin",rows:9,value:t.stdin,onChange:function(e){return a(e.target.value)}}),o.a.createElement("label",{for:"stdout"},o.a.createElement("b",null,"Output")),o.a.createElement(T,{id:"stdout",rows:9,value:n,style:r,disabled:!0}))})),G=a(307),w=G.a.Option,H=function(e){var t=e.name,a=e.options,n=e.defaultValue,r=e.width,c=e.onChange,l={margin:"0 2px 0 2px",borderRadius:"0",border:"none",width:"".concat(r,"px")};return o.a.createElement(G.a,{name:t,value:n,style:l,onChange:c},a.map((function(e){return o.a.createElement(w,{value:e.value},e.name)})))},R=a(106),k=a(308),L=a(305),D=a(309),M=[{name:"Monokai",value:"monokai"},{name:"GitHub",value:"github"},{name:"Kuroir",value:"kuroir"},{name:"Xcode",value:"xcode"},{name:"TextMate",value:"textmate"},{name:"Solarized Dark",value:"solarized_dark"},{name:"Solarized Light",value:"solarized_light"}],z=[{name:"Java",value:"java"},{name:"Python",value:"python"},{name:"JavaScript",value:"javascript"}],U=[{name:12,value:12},{name:14,value:14},{name:16,value:16},{name:18,value:18},{name:20,value:20},{name:24,value:24},{name:28,value:28},{name:32,value:32},{name:36,value:36},{name:40,value:40}],F=Object(h.b)((function(e){return{editor:e.editor,room:e.room}}),{changeLanguageAction:function(e){return function(t){return t({type:"CHANGE_LANGUAGE",payload:e})}},changeThemeAction:function(e){return function(t){return t({type:"CHANGE_THEME",payload:e})}},changeFontAction:function(e){return function(t){return t({type:"CHANGE_FONT",payload:e})}},changeShowGutterAction:function(){return function(e){return e({type:"CHANGE_SHOW_GUTTER",payload:null})}},changeOpsToDefaultAction:function(){return function(e){return e({type:"CHANGE_OPS_TO_DEFAULT",payload:null})}},setNameAction:function(e){return function(t){t({type:"SET_USER_NAME",payload:e})}}})((function(e){var t=e.editor,a=e.room,n=e.changeThemeAction,r=e.changeFontAction,c=e.changeLanguageAction,l=e.changeOpsToDefaultAction,i=e.setNameAction;return o.a.createElement("div",{style:{height:"40px",padding:"4px",backgroundColor:"#dedede",boxShadow:"0px 1px 4px 0px black",marginBottom:"10px"}},o.a.createElement(H,{name:"theme",options:M,defaultValue:t.theme,onChange:n}),o.a.createElement(H,{name:"mode",options:z,defaultValue:t.language,onChange:c}),o.a.createElement(H,{name:"fontSize",options:U,defaultValue:t.fontSize,onChange:r}),o.a.createElement(R.a,{type:"primary",style:{backgroundColor:"green",border:"none",margin:"0 2px 0 2px"},icon:o.a.createElement(k.a,null),onClick:function(){return null},loading:!1},"Run"),o.a.createElement(R.a,{type:"primary",style:{backgroundColor:"red",border:"none",margin:"0 2px 0 2px"},onClick:l},"Reset"),o.a.createElement("div",{style:{display:"inline",witdh:"auto",float:"right"}},o.a.createElement("div",{style:{display:"inline",lineHeight:"30px",marginRight:"5px"}},""!==a.userName?o.a.createElement("div",null,o.a.createElement(L.a,{style:{margin:"0 2px 0 2px"},size:25,icon:o.a.createElement(D.a,null)}),o.a.createElement("h4",{style:{display:"inline",marginRight:"5px"}},a.userName)):o.a.createElement(R.a,{onClick:function(){var e=window.prompt("Enter your name.");console.log(e),""!==e&&i(e)}},"Login"))))})),P=a(33),B=Object(h.b)((function(e){return{}}),{initializeRoomAction:function(e,t){return function(a){a({type:"INITIALIZE_ROOM",payload:{socket:e,roomId:t}})}},syncInitialStateAction:function(e){return function(t){_.a.post("http://localhost:4000/syncstate",{roomId:e}).then((function(e){null===e.data.success&&void 0===e.data.success||!e.data.success?t({type:"ERROR",payload:e.data.data.error}):t({type:"INITIALIZE_INITIAL_CODE",payload:{language:e.data.data.language,code:e.data.data.code}})})).catch((function(e){t({type:"ERROR",payload:e})}))}}})((function(e){var t=Object(n.useState)(!0),a=Object(v.a)(t,2),r=a[0],c=a[1],l=Object(P.g)().roomId,i=e.initializeRoomAction,u=e.syncInitialStateAction;return Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I()("http://localhost:4000");case 2:return a=e.sent,e.next=5,i(a,l);case 5:return e.next=7,u(l);case 7:t(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c(!0),function(t){e.apply(this,arguments)}(c)}),[l]),o.a.createElement("div",null,r?o.a.createElement("div",null,"Loading"):o.a.createElement("div",null,o.a.createElement(F,null),o.a.createElement("div",{style:{display:"flex",direction:"row",width:"100%",heght:"100vh"}},o.a.createElement(C,null),o.a.createElement(x,null))))})),V=a(99);var W=function(){return o.a.createElement(h.a,{store:g},o.a.createElement(V.a,{basename:""},o.a.createElement(P.d,null,o.a.createElement(P.b,{exact:!0,path:"/"},o.a.createElement(P.a,{to:"/".concat(Date.now())})),o.a.createElement(P.b,{exact:!0,path:"/:roomId"},o.a.createElement(B,null)))))};c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(W,null)),document.getElementById("root"))}},[[168,1,2]]]);
//# sourceMappingURL=main.6a56d97e.chunk.js.map